---
title: Kapsamlı API anahtarları
description: Paketleri göndermek için kullandığınız API anahtarlarının denetimini al
author: mikejo5000
ms.author: mikejo
ms.date: 06/04/2019
ms.topic: conceptual
ms.openlocfilehash: a3d2504528249f3545e2eb5d9bce7713029638db
ms.sourcegitcommit: 40c039ace0330dd9e68922882017f9878f4283d1
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/22/2021
ms.locfileid: "107901596"
---
# <a name="scoped-api-keys"></a><span data-ttu-id="e39d0-103">Kapsamlı API anahtarları</span><span class="sxs-lookup"><span data-stu-id="e39d0-103">Scoped API keys</span></span>

<span data-ttu-id="e39d0-104">NuGet 'i paket dağıtımı için daha güvenli bir ortam yapmak üzere kapsamlar ekleyerek API anahtarlarının denetimini alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e39d0-104">To make NuGet a more secure environment for package distribution, you can take control of the API keys by adding scopes.</span></span>

<span data-ttu-id="e39d0-105">API Anahtarlarınıza kapsam sağlama özelliği, API 'lerinize daha iyi denetim sağlar.</span><span class="sxs-lookup"><span data-stu-id="e39d0-105">The ability to provide scope to your API keys give you better control on your APIs.</span></span> <span data-ttu-id="e39d0-106">Seçenekleriniz şunlardır:</span><span class="sxs-lookup"><span data-stu-id="e39d0-106">You can:</span></span>

- <span data-ttu-id="e39d0-107">Değişen süre sonu zaman çerçevelerine sahip farklı paketler için kullanılabilen birden çok kapsamlı API anahtarı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="e39d0-107">Create multiple scoped API keys that can be used for different packages with varying expiration timeframes.</span></span>
- <span data-ttu-id="e39d0-108">API anahtarlarını güvenli bir şekilde edinin.</span><span class="sxs-lookup"><span data-stu-id="e39d0-108">Obtain API keys securely.</span></span>
- <span data-ttu-id="e39d0-109">Paket uygulanabilirliğini değiştirmek için mevcut API anahtarlarını düzenleyin.</span><span class="sxs-lookup"><span data-stu-id="e39d0-109">Edit existing API keys to change package applicability.</span></span>
- <span data-ttu-id="e39d0-110">Diğer anahtarları kullanarak işlemleri etkilemeden mevcut API anahtarlarını yenileyin veya silin.</span><span class="sxs-lookup"><span data-stu-id="e39d0-110">Refresh or delete existing API keys without hampering operations using other keys.</span></span>

## <a name="why-do-we-support-scoped-api-keys"></a><span data-ttu-id="e39d0-111">Neden kapsamlı API anahtarlarını destekliyoruz?</span><span class="sxs-lookup"><span data-stu-id="e39d0-111">Why do we support scoped API keys?</span></span>

<span data-ttu-id="e39d0-112">Daha ayrıntılı izinleriniz olmasını sağlamak için API anahtarları için kapsamları destekliyoruz.</span><span class="sxs-lookup"><span data-stu-id="e39d0-112">We support scopes for API keys to allow you to have more fine-grained permissions.</span></span> <span data-ttu-id="e39d0-113">Daha önce, NuGet bir hesap için tek bir API anahtarı önerdi ve bu yaklaşım birkaç dezavantaja sahipti:</span><span class="sxs-lookup"><span data-stu-id="e39d0-113">Previously, NuGet offered a single API key for an account, and that approach had several drawbacks:</span></span>

- <span data-ttu-id="e39d0-114">**Tüm paketleri denetlemek Için BIR API anahtarı**.</span><span class="sxs-lookup"><span data-stu-id="e39d0-114">**One API key to control all packages**.</span></span> <span data-ttu-id="e39d0-115">Tüm paketleri yönetmek için kullanılan tek bir API anahtarı ile, birden çok geliştirici farklı paketlere dahil edildiğinde ve bir yayımcı hesabını paylaştıklarında, anahtarı güvenli bir şekilde paylaşmak zordur.</span><span class="sxs-lookup"><span data-stu-id="e39d0-115">With a single API key that is used to manage all packages, it is difficult to securely share the key when multiple developers are involved with different packages, and when they share a publisher account.</span></span>
- <span data-ttu-id="e39d0-116">**Tüm izinler veya hiçbiri**.</span><span class="sxs-lookup"><span data-stu-id="e39d0-116">**All permissions or none**.</span></span> <span data-ttu-id="e39d0-117">API anahtarına erişimi olan herkes, paketler üzerinde tüm izinlere (yayımlama, gönderme ve kaldırma) sahiptir.</span><span class="sxs-lookup"><span data-stu-id="e39d0-117">Anyone with access to the API key has all permissions (publish, push and un-list) on the packages.</span></span> <span data-ttu-id="e39d0-118">Bu, genellikle birden çok ekibin bulunduğu ortamda istenmez.</span><span class="sxs-lookup"><span data-stu-id="e39d0-118">This is often not desirable in environment with multiple teams.</span></span>
- <span data-ttu-id="e39d0-119">**Tek hata noktası**.</span><span class="sxs-lookup"><span data-stu-id="e39d0-119">**Single point of failure**.</span></span> <span data-ttu-id="e39d0-120">Tek bir API anahtarı aynı zamanda tek bir hata noktası anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="e39d0-120">A single API key also means a single point of failure.</span></span> <span data-ttu-id="e39d0-121">Anahtar tehlikeye girerse, hesapla ilişkili tüm paketlerin güvenliği tehlikeye girebilir.</span><span class="sxs-lookup"><span data-stu-id="e39d0-121">If the key is compromised, all packages associated with the account could potentially be compromised.</span></span> <span data-ttu-id="e39d0-122">API anahtarını yenilemek, sızıntıyı eklemenin ve CI/CD iş akışınıza kesintiye uğramaktan kaçınmanın tek yoludur.</span><span class="sxs-lookup"><span data-stu-id="e39d0-122">Refreshing the API key is the only way to plug the leak and avoid an interruption to your CI/CD workflow.</span></span> <span data-ttu-id="e39d0-123">Ayrıca, bir kişiye ait API anahtarına erişimi iptal etmek istediğiniz durumlar olabilir (örneğin, bir çalışan kuruluştan ayrıldığında).</span><span class="sxs-lookup"><span data-stu-id="e39d0-123">In addition, there may be cases when you want to revoke access to the API key for an individual (for example, when an employee leaves the organization).</span></span> <span data-ttu-id="e39d0-124">Bunu bugün işlemek için temiz bir yol yoktur.</span><span class="sxs-lookup"><span data-stu-id="e39d0-124">There isn’t a clean way to handle this today.</span></span>

<span data-ttu-id="e39d0-125">Kapsamlı API anahtarları sayesinde bu sorunları gidermek için mevcut iş akışlarının hiçbirini bozmadığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="e39d0-125">With scoped API keys, we try to address these problems while making sure that none of the existing workflows break.</span></span>

## <a name="acquire-an-api-key"></a><span data-ttu-id="e39d0-126">API anahtarı alma</span><span class="sxs-lookup"><span data-stu-id="e39d0-126">Acquire an API key</span></span>

[!INCLUDE [publish-api-key](../quickstart/includes/publish-api-key.md)]

## <a name="create-scoped-api-keys"></a><span data-ttu-id="e39d0-127">Kapsamlı API anahtarları oluşturma</span><span class="sxs-lookup"><span data-stu-id="e39d0-127">Create scoped API keys</span></span>

<span data-ttu-id="e39d0-128">Gereksinimlerinize göre birden çok API anahtarı oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e39d0-128">You can create multiple API keys based on your requirements.</span></span> <span data-ttu-id="e39d0-129">Bir API anahtarı bir veya daha fazla pakete uygulanabilir, belirli ayrıcalıklar veren ve bunlarla ilişkili bir sona erme tarihi olan farklı kapsamlara sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="e39d0-129">An API key can apply to one or more packages, have varying scopes that grant specific privileges, and have an expiration date associated with it.</span></span>

<span data-ttu-id="e39d0-130">Aşağıdaki örnekte, `Contoso service CI` belirli paketlere yönelik paketleri göndermek için kullanılabilecek adlı BIR API anahtarınız vardır `Contoso.Service` ve 365 gün için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="e39d0-130">In the following example, you have an API key named `Contoso service CI` that can be used to push packages for specific `Contoso.Service` packages, and is valid for 365 days.</span></span> <span data-ttu-id="e39d0-131">Bu, aynı kuruluştaki farklı takımların farklı paketlerde çalıştığı tipik bir senaryodur ve takımın üyelerine, yalnızca üzerinde çalıştıkları paket için kendilerine ayrıcalık veren anahtarı sağlarlar.</span><span class="sxs-lookup"><span data-stu-id="e39d0-131">This is a typical scenario where different teams within the same organization work on different packages, and the members of the team are provided the key that grants them privileges only for the package they are working on.</span></span> <span data-ttu-id="e39d0-132">Süre sonu eski veya unutulan anahtarları önleme mekanizması olarak görev yapar.</span><span class="sxs-lookup"><span data-stu-id="e39d0-132">The expiration serves as a mechanism to prevent stale or forgotten keys.</span></span>

![API anahtarları oluşturma](media/scoped-api-keys-create-new.png)

## <a name="use-glob-patterns"></a><span data-ttu-id="e39d0-134">Glob desenlerini kullanma</span><span class="sxs-lookup"><span data-stu-id="e39d0-134">Use glob patterns</span></span>

<span data-ttu-id="e39d0-135">Birden çok paket üzerinde çalışıyorsanız ve yönetmek üzere büyük bir paket listeniz varsa, birden fazla paketi birlikte seçmek için glob desenlerini kullanmayı seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e39d0-135">If you are working on multiple packages and have a large list of packages to manage, you can choose to use globbing patterns to select multiple packages together.</span></span> <span data-ttu-id="e39d0-136">Örneğin, KIMLIĞI ile başlayan tüm paketler için bir anahtara belirli kapsamlar vermek isterseniz `Fabrikam.Service` , bunu, `fabrikam.service.*` **Glob deseninin** metin kutusunda belirterek yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e39d0-136">For example, if you wish to grant specific scopes to a key for all packages whose ID starts with `Fabrikam.Service`, you could do this by specifying `fabrikam.service.*` in the **Glob pattern** text box.</span></span>

![API anahtarları oluşturma-2](media/scoped-api-keys-glob-pattern.png)

<span data-ttu-id="e39d0-138">API anahtarı izinlerinin belirlenmesi için glob desenlerinin kullanılması, glob deseniyle eşleşen yeni paketler için de geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="e39d0-138">Using glob patterns to determine API key permissions also applies to new packages matching the glob pattern.</span></span> <span data-ttu-id="e39d0-139">Örneğin, adlı yeni bir paket göndermeye çalışırsanız `Fabrikam.Service.Framework` , paket glob düzeniyle eşleştiğinden bu anahtarı daha önce oluşturulan anahtarla yapabilirsiniz `fabrikam.service.*` .</span><span class="sxs-lookup"><span data-stu-id="e39d0-139">For example, if you try to push a new package named `Fabrikam.Service.Framework`, you can do that with the key created previously, since the package matches the glob pattern `fabrikam.service.*`.</span></span>

## <a name="obtain-api-keys-securely"></a><span data-ttu-id="e39d0-140">API anahtarlarını güvenli bir şekilde edinin</span><span class="sxs-lookup"><span data-stu-id="e39d0-140">Obtain API keys securely</span></span>

<span data-ttu-id="e39d0-141">Güvenlik için, yeni oluşturulan bir anahtar ekranda hiçbir şekilde gösterilmez ve yalnızca **Kopyala** düğmesi kullanılarak kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="e39d0-141">For security, a newly created key is never shown on the screen and is only available using the **Copy** button.</span></span> <span data-ttu-id="e39d0-142">Benzer şekilde, sayfa yenilendikten sonra anahtara erişilemez.</span><span class="sxs-lookup"><span data-stu-id="e39d0-142">Similarly, the key is not accessible after the page is refreshed.</span></span>

![API anahtarları oluştur-3](media/scoped-api-keys-obtain-keys.png)

## <a name="edit-existing-api-keys"></a><span data-ttu-id="e39d0-144">Mevcut API anahtarlarını Düzenle</span><span class="sxs-lookup"><span data-stu-id="e39d0-144">Edit existing API keys</span></span>

<span data-ttu-id="e39d0-145">Anahtarı değiştirmeden anahtar izinlerini ve kapsamları da güncelleştirmek isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e39d0-145">You may also want to update the key permissions and scopes without changing the key itself.</span></span> <span data-ttu-id="e39d0-146">Tek bir paket için belirli kapsamlarla bir anahtarınız varsa, aynı kapsamları bir veya daha fazla pakete uygulamayı seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e39d0-146">If you have a key with specific scope(s) for a single package, you can choose to apply the same scope(s) on one or many other packages.</span></span>

![API anahtarları oluşturma-4](media/scoped-api-keys-edit.png)

## <a name="refresh-or-delete-existing-api-keys"></a><span data-ttu-id="e39d0-148">Mevcut API anahtarlarını yenileme veya silme</span><span class="sxs-lookup"><span data-stu-id="e39d0-148">Refresh or delete existing API keys</span></span>

<span data-ttu-id="e39d0-149">Hesap sahibi anahtarı yenilemeyi seçebilir ve bu durumda izin (paketlerdeki), kapsam ve süre sonu aynı kalır, ancak eski anahtarı kullanılamaz hale getirmek için yeni bir anahtar verilir.</span><span class="sxs-lookup"><span data-stu-id="e39d0-149">The account owner can choose to refresh the key, in which case the permission (on packages), scope, and expiry remain the same, but a new key is issued making the old key unusable.</span></span> <span data-ttu-id="e39d0-150">Bu, eski anahtarları yönetirken veya bir API anahtarı sızıntısı için olası bir sorun olduğu durumlarda faydalıdır.</span><span class="sxs-lookup"><span data-stu-id="e39d0-150">This is helpful in managing stale keys or where there is any potential for an API key leakage.</span></span>

![API anahtarları oluşturma-5](media/scoped-api-keys-refresh.png)

<span data-ttu-id="e39d0-152">Artık gerekmiyorsa bu anahtarları silmeyi de tercih edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e39d0-152">You may also choose to delete these keys if they are not needed anymore.</span></span> <span data-ttu-id="e39d0-153">Anahtar silindiğinde anahtar kaldırılır ve kullanılamaz hale gelir.</span><span class="sxs-lookup"><span data-stu-id="e39d0-153">Deleting a key removes the key and makes it unusable.</span></span>

## <a name="faqs"></a><span data-ttu-id="e39d0-154">SSS</span><span class="sxs-lookup"><span data-stu-id="e39d0-154">FAQs</span></span>

### <a name="what-happens-to-my-old-legacy-api-key"></a><span data-ttu-id="e39d0-155">Eski (eski) API anahtarım için ne olur?</span><span class="sxs-lookup"><span data-stu-id="e39d0-155">What happens to my old (legacy) API key?</span></span>

<span data-ttu-id="e39d0-156">Eski API anahtarınız (eski) çalışmaya devam eder ve çalışmasını istediğiniz sürece çalışabilir.</span><span class="sxs-lookup"><span data-stu-id="e39d0-156">Your old API key (legacy) continues to work and can work as long as you want it to work.</span></span> <span data-ttu-id="e39d0-157">Ancak, bir paketi göndermek için 365 günden daha uzun bir süre kullanılmadığından bu anahtarlar devre dışı bırakılır.</span><span class="sxs-lookup"><span data-stu-id="e39d0-157">However, these keys will be retired if they have not been used for more than 365 days to push a package.</span></span> <span data-ttu-id="e39d0-158">Daha ayrıntılı bilgi için bkz. blog gönderisi [süresi dolan API anahtarları](https://blog.nuget.org/20160825/Changes-to-Expiring-API-Keys.html).</span><span class="sxs-lookup"><span data-stu-id="e39d0-158">For more details, see the blog post [Changes to expiring API keys](https://blog.nuget.org/20160825/Changes-to-Expiring-API-Keys.html).</span></span> <span data-ttu-id="e39d0-159">Bu anahtarı artık yenileyemezsiniz.</span><span class="sxs-lookup"><span data-stu-id="e39d0-159">You can no longer refresh this key.</span></span> <span data-ttu-id="e39d0-160">Bunun yerine eski anahtarı silmeniz ve yeni bir kapsamlı anahtar oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="e39d0-160">You need to delete the legacy key and create a new scoped key instead.</span></span>

> [!NOTE]
> <span data-ttu-id="e39d0-161">Bu anahtar tüm paketlerde tüm izinlere sahiptir ve süresi dolmayacaktır.</span><span class="sxs-lookup"><span data-stu-id="e39d0-161">This key has all permissions on all the packages and it never expires.</span></span> <span data-ttu-id="e39d0-162">Bu anahtarı silmeyi ve kapsamlı izinlerle yeni anahtar oluşturmayı ve kesin süre sonu kullanmayı göz önünde bulundurmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="e39d0-162">You should consider deleting this key and creating new keys with scoped permissions and definite expiry.</span></span>

### <a name="how-many-api-keys-can-i-create"></a><span data-ttu-id="e39d0-163">Kaç tane API anahtarı oluşturabilirim?</span><span class="sxs-lookup"><span data-stu-id="e39d0-163">How many API keys can I create?</span></span>

<span data-ttu-id="e39d0-164">Oluşturabileceğiniz API anahtarı sayısı için bir sınır yoktur.</span><span class="sxs-lookup"><span data-stu-id="e39d0-164">There is no limit on the number of API keys you can create.</span></span> <span data-ttu-id="e39d0-165">Bununla birlikte, bu süreyi yönetilebilir bir sayıya tutmanızı öneririz; Böylece, nerede ve kim tarafından kullanıldığı hakkında bilgi sahibi olmadan çok sayıda eski anahtara sahip olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e39d0-165">However, we advise you to keep it to a manageable count so that you do not end up having many stale keys with no knowledge of where and who is using them.</span></span>

### <a name="can-i-delete-my-legacy-api-key-or-discontinue-using-now"></a><span data-ttu-id="e39d0-166">Eski API anahtarımı silebilir veya şimdi kullanmaya devam edebilir miyim?</span><span class="sxs-lookup"><span data-stu-id="e39d0-166">Can I delete my legacy API key or discontinue using now?</span></span>

<span data-ttu-id="e39d0-167">Evet.</span><span class="sxs-lookup"><span data-stu-id="e39d0-167">Yes.</span></span> <span data-ttu-id="e39d0-168">Ve büyük olasılıkla eski API anahtarınızı silmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="e39d0-168">You can--and you probably should--delete your legacy API key.</span></span>

### <a name="can-i-get-back-my-api-key-that-i-deleted-by-mistake"></a><span data-ttu-id="e39d0-169">Yanlışlıkla sildiğim API anahtarımı geri alabilir miyim?</span><span class="sxs-lookup"><span data-stu-id="e39d0-169">Can I get back my API key that I deleted by mistake?</span></span>

<span data-ttu-id="e39d0-170">Hayır.</span><span class="sxs-lookup"><span data-stu-id="e39d0-170">No.</span></span> <span data-ttu-id="e39d0-171">Silindikten sonra yalnızca yeni anahtarlar oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e39d0-171">Once deleted, you can only create new keys.</span></span> <span data-ttu-id="e39d0-172">Yanlışlıkla silinen anahtarlar için bir kurtarma mümkün değildir.</span><span class="sxs-lookup"><span data-stu-id="e39d0-172">There is no recovery possible for accidentally deleted keys.</span></span>

### <a name="does-the-old-api-key-continue-to-work-upon-api-key-refresh"></a><span data-ttu-id="e39d0-173">Eski API anahtarı API anahtarı yenileme sonrasında çalışmaya devam eder mi?</span><span class="sxs-lookup"><span data-stu-id="e39d0-173">Does the old API key continue to work upon API key refresh?</span></span>

<span data-ttu-id="e39d0-174">Hayır.</span><span class="sxs-lookup"><span data-stu-id="e39d0-174">No.</span></span> <span data-ttu-id="e39d0-175">Bir anahtarı yeniledikten sonra, eskisiyle aynı kapsam, izin ve süre sonu olan yeni bir anahtar oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="e39d0-175">Once you refresh a key, a new key gets generated that has the same scope, permission, and expiry as the old one.</span></span> <span data-ttu-id="e39d0-176">Eski anahtar mevcut olmaya sona erer.</span><span class="sxs-lookup"><span data-stu-id="e39d0-176">The old key ceases to exist.</span></span>

### <a name="can-i-give-more-permissions-to-an-existing-api-key"></a><span data-ttu-id="e39d0-177">Var olan bir API anahtarına daha fazla izin verebilir miyim?</span><span class="sxs-lookup"><span data-stu-id="e39d0-177">Can I give more permissions to an existing API key?</span></span>

<span data-ttu-id="e39d0-178">Kapsamı değiştiremezsiniz, ancak geçerli olduğu paket listesini düzenleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e39d0-178">You cannot modify the scope, but you can edit the package list it is applicable to.</span></span>

### <a name="how-do-i-know-if-any-of-my-keys-expired-or-are-getting-expired"></a><span data-ttu-id="e39d0-179">Nasıl yaparım? anahtarlarım zaman aşımına uğradı veya zaman aşımına uğradı.</span><span class="sxs-lookup"><span data-stu-id="e39d0-179">How do I know if any of my keys expired or are getting expired?</span></span>

<span data-ttu-id="e39d0-180">Herhangi bir anahtarın süresi dolarsa, sayfanın üst kısmında bir uyarı iletisi aracılığıyla size bilgi vereceğiz.</span><span class="sxs-lookup"><span data-stu-id="e39d0-180">If any key expires, we will let you know through a warning message at the top of the page.</span></span> <span data-ttu-id="e39d0-181">Ayrıca, anahtar sona ermeden önce bir uyarı e-postası göndeririz ve bu sayede, daha iyi bir şekilde hareket edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e39d0-181">We also send a warning e-mail to the account holder ten days before the expiration of the key so that you can act on it well in advance.</span></span>