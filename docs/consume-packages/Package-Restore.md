---
title: NuGet paketini geri yükleme
description: NuGet 'in bir proje tarafından nasıl geri yükleneceği hakkında genel bakış, geri yüklemeyi devre dışı bırakma ve sürümleri kısıtlama de dahil olmak üzere.
author: karann-msft
ms.author: karann
ms.date: 06/24/2019
ms.topic: conceptual
ms.openlocfilehash: 0df2b0ebcf438fba99291558f1cf929dcb32618b
ms.sourcegitcommit: efc18d484fdf0c7a8979b564dcb191c030601bb4
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/18/2019
ms.locfileid: "68316981"
---
# <a name="package-restore-options"></a><span data-ttu-id="30087-103">Paket geri yükleme seçenekleri</span><span class="sxs-lookup"><span data-stu-id="30087-103">Package Restore options</span></span>

<span data-ttu-id="30087-104">Bir temizleyici geliştirme ortamını yükseltmek ve depo boyutunu azaltmak için, NuGet **paket geri yüklemesi** proje dosyasında veya `packages.config`proje dosyasında listelenen tüm bağımlılıklarını yükler.</span><span class="sxs-lookup"><span data-stu-id="30087-104">To promote a cleaner development environment and to reduce repository size, NuGet **Package Restore** installs all of a project's dependencies listed in either the project file or `packages.config`.</span></span> <span data-ttu-id="30087-105">.NET Core 2.0 + `dotnet build` ve `dotnet run` komutları bir otomatik paket geri yükleme yapılır.</span><span class="sxs-lookup"><span data-stu-id="30087-105">The .NET Core 2.0+ `dotnet build` and `dotnet run` commands do an automatic package restore.</span></span> <span data-ttu-id="30087-106">Visual Studio bir proje oluşturduğunda paketleri otomatik olarak geri yükleyebilir ve Visual Studio, `nuget restore`, `dotnet restore`, ve mono üzerinde xbuild aracılığıyla istediğiniz zaman paketleri geri yükleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="30087-106">Visual Studio can restore packages automatically when it builds a project, and you can restore packages at any time through Visual Studio, `nuget restore`, `dotnet restore`, and xbuild on Mono.</span></span>

<span data-ttu-id="30087-107">Paket geri yükleme, tüm proje bağımlılıklarının, kaynak denetiminde depolanması gerekmeden, kullanılabilir olduğundan emin olur.</span><span class="sxs-lookup"><span data-stu-id="30087-107">Package Restore makes sure that all a project's dependencies are available, without having to store them in source control.</span></span> <span data-ttu-id="30087-108">Kaynak denetimi deponuzu paket ikili dosyalarını hariç bırakacak şekilde yapılandırmak için bkz. [paketler ve kaynak denetimi](../consume-packages/packages-and-source-control.md).</span><span class="sxs-lookup"><span data-stu-id="30087-108">To configure your source control repository to exclude the package binaries, see [Packages and source control](../consume-packages/packages-and-source-control.md).</span></span> 

## <a name="package-restore-overview"></a><span data-ttu-id="30087-109">Paket geri yüklemeye genel bakış</span><span class="sxs-lookup"><span data-stu-id="30087-109">Package Restore overview</span></span>

<span data-ttu-id="30087-110">Paket geri yükleme, önce bir projenin doğrudan bağımlılıklarını gerektiği şekilde yükler ve ardından bu paketlerin tüm bağımlılıklarını bağımlılık grafiğinin tamamında yükler.</span><span class="sxs-lookup"><span data-stu-id="30087-110">Package Restore first installs the direct dependencies of a project as needed, then installs any dependencies of those packages throughout the entire dependency graph.</span></span>

<span data-ttu-id="30087-111">Bir paket zaten yüklü değilse, NuGet ilk olarak onu [önbellekten](../consume-packages/managing-the-global-packages-and-cache-folders.md)almaya çalışır.</span><span class="sxs-lookup"><span data-stu-id="30087-111">If a package isn't already installed, NuGet first attempts to retrieve it from the [cache](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span> <span data-ttu-id="30087-112">Paket önbellekte değilse, NuGet paketi listedeki tüm etkin kaynaklardan indirmeye çalışır, Visual 'teki **araç** > **seçenekleri** > **NuGet Paket Yöneticisi** > **paket kaynakları** Stu.</span><span class="sxs-lookup"><span data-stu-id="30087-112">If the package isn't in the cache, NuGet tries to download the package from all enabled sources in the list at **Tools** > **Options** > **NuGet Package Manager** > **Package Sources** in Visual Studio.</span></span> <span data-ttu-id="30087-113">Geri yükleme sırasında, NuGet paket kaynaklarının sırasını yoksayar ve isteklere yanıt vermek için ilk kaynak olan paketi kullanır.</span><span class="sxs-lookup"><span data-stu-id="30087-113">During restore, NuGet ignores the order of package sources, and uses the package from whichever source is first to respond to requests.</span></span> <span data-ttu-id="30087-114">NuGet 'in nasıl davrandığı hakkında daha fazla bilgi için bkz. [ortak NuGet yapılandırması](Configuring-NuGet-Behavior.md).</span><span class="sxs-lookup"><span data-stu-id="30087-114">For more information about how NuGet behaves, see [Common NuGet configurations](Configuring-NuGet-Behavior.md).</span></span> 

> [!Note]
> <span data-ttu-id="30087-115">NuGet, tüm kaynaklar denetlenene kadar bir paketin geri yükleme başarısızlığını göstermez.</span><span class="sxs-lookup"><span data-stu-id="30087-115">NuGet doesn't indicate a failure to restore a package until all the sources have been checked.</span></span> <span data-ttu-id="30087-116">Bu sırada, NuGet yalnızca listedeki son kaynak için bir hata bildiriyor.</span><span class="sxs-lookup"><span data-stu-id="30087-116">At that time, NuGet reports a failure for only the last source in the list.</span></span> <span data-ttu-id="30087-117">Hata, bu kaynakların her biri için ayrı ayrı gösterilmese de, paketin diğer kaynakların *hiçbirinde* mevcut olmadığını gösterir.</span><span class="sxs-lookup"><span data-stu-id="30087-117">The error implies that the package wasn't present on *any* of the other sources, even though errors aren't shown for each of those sources individually.</span></span>

## <a name="restore-packages"></a><span data-ttu-id="30087-118">Paketleri geri yükle</span><span class="sxs-lookup"><span data-stu-id="30087-118">Restore packages</span></span>

<span data-ttu-id="30087-119">Aşağıdaki yollarla paket geri yüklemeyi tetikleyebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="30087-119">You can trigger Package Restore in any of the following ways:</span></span>

- <span data-ttu-id="30087-120">**Visual Studio**: Windows üzerinde Visual Studio 'da aşağıdaki yöntemlerden birini kullanın.</span><span class="sxs-lookup"><span data-stu-id="30087-120">**Visual Studio**: In Visual Studio on Windows, use one of the following methods.</span></span>

    - <span data-ttu-id="30087-121">Paketleri otomatik olarak geri yükleyin.</span><span class="sxs-lookup"><span data-stu-id="30087-121">Restore packages automatically.</span></span> <span data-ttu-id="30087-122">Bir şablondan proje oluşturduğunuzda veya bir proje oluşturduğunuzda paket geri yükleme otomatik olarak gerçekleşir [ve paket geri yükleme 'Yi etkinleştirme ve devre dışı bırakma](#enable-and-disable-package-restore-visual-studio)seçeneklerine tabidir.</span><span class="sxs-lookup"><span data-stu-id="30087-122">Package Restore happens automatically when you create a project from a template or build a project, subject to the options in [Enable and disable package restore](#enable-and-disable-package-restore-visual-studio).</span></span> <span data-ttu-id="30087-123">NuGet 4.0 + ' da, bir SDK stili projede (genellikle bir .NET Core veya .NET Standard Projesi) değişiklikler yaptığınızda geri yükleme de otomatik olarak gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="30087-123">In NuGet 4.0+, restore also happens automatically when you make changes to a SDK-style project (typically a .NET Core or .NET Standard project).</span></span>

    - <span data-ttu-id="30087-124">Paketleri el ile geri yükleyin.</span><span class="sxs-lookup"><span data-stu-id="30087-124">Restore packages manually.</span></span> <span data-ttu-id="30087-125">El ile geri yüklemek için **Çözüm Gezgini** çözüme sağ tıklayın ve **NuGet paketlerini geri yükle**' yi seçin.</span><span class="sxs-lookup"><span data-stu-id="30087-125">To restore manually, right-click the solution in **Solution Explorer** and select **Restore NuGet Packages**.</span></span> <span data-ttu-id="30087-126">Bir veya daha fazla paket hala düzgün yüklenmemişse **Çözüm Gezgini** bir hata simgesi gösterir.</span><span class="sxs-lookup"><span data-stu-id="30087-126">If one or more individual packages still aren't installed properly, **Solution Explorer** shows an error icon.</span></span> <span data-ttu-id="30087-127">Sağ tıklayın ve **NuGet Paketlerini Yönet**' i seçin ve etkilenen paketleri kaldırmak ve yeniden yüklemek Için **Paket Yöneticisi** ' ni kullanın.</span><span class="sxs-lookup"><span data-stu-id="30087-127">Right-click and select **Manage NuGet Packages**, and use **Package Manager** to uninstall and reinstall the affected packages.</span></span> <span data-ttu-id="30087-128">Daha fazla bilgi için bkz. [paketleri yeniden yükleme ve güncelleştirme](../consume-packages/reinstalling-and-updating-packages.md)</span><span class="sxs-lookup"><span data-stu-id="30087-128">For more information, see [Reinstall and update packages](../consume-packages/reinstalling-and-updating-packages.md)</span></span>

    <span data-ttu-id="30087-129">"Bu proje, bu bilgisayarda eksik olan NuGet paketlerine başvuruyor," ya da "bir veya daha fazla NuGet paketinin geri yüklenmesi gerekiyor, ancak izin verilmediğinden," [otomatik geri yüklemeyi etkinleştir](#enable-and-disable-package-restore-visual-studio)"hatasını görürseniz.</span><span class="sxs-lookup"><span data-stu-id="30087-129">If you see the error "This project references NuGet package(s) that are missing on this computer," or "One or more NuGet packages need to be restored but couldn't be because consent has not been granted," [enable automatic restore](#enable-and-disable-package-restore-visual-studio).</span></span> <span data-ttu-id="30087-130">Ayrıca bkz. [otomatik paket geri yükleme](#migrate-to-automatic-package-restore-visual-studio) ve [paket geri yükleme sorunlarını giderme](Package-restore-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="30087-130">Also, see [Migrate to automatic package restore](#migrate-to-automatic-package-restore-visual-studio) and [Package Restore troubleshooting](Package-restore-troubleshooting.md).</span></span>

- <span data-ttu-id="30087-131">**DotNet CLI**: Komut satırında, projenizi içeren klasöre geçin ve ardından [DotNet restore](/dotnet/core/tools/dotnet-restore?tabs=netcore2x) komutunu kullanarak proje dosyasında listelenen paketleri [packagereference](../consume-packages/package-references-in-project-files.md)ile geri yükleyin.</span><span class="sxs-lookup"><span data-stu-id="30087-131">**dotnet CLI**: In the command line, switch to the folder that contains your project, and then use the [dotnet restore](/dotnet/core/tools/dotnet-restore?tabs=netcore2x) command to restore packages listed in the project file with [PackageReference](../consume-packages/package-references-in-project-files.md).</span></span> <span data-ttu-id="30087-132">.NET Core 2,0 ve üzeri ile geri yükleme, `dotnet build` ve `dotnet run` komutlarıyla otomatik olarak gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="30087-132">With .NET Core 2.0 and later, restore happens automatically with the `dotnet build` and `dotnet run` commands.</span></span>  

- <span data-ttu-id="30087-133">**NuGet. exe CLI**: Komut satırında, projenizi içeren klasöre geçin ve ardından bir proje veya çözüm dosyasında veya `packages.config`' de listelenen paketleri geri yüklemek için [NuGet restore](../reference/cli-reference/cli-ref-restore.md) komutunu kullanın.</span><span class="sxs-lookup"><span data-stu-id="30087-133">**nuget.exe CLI**: In the command line, switch to the folder that contains your project, and then use the [nuget restore](../reference/cli-reference/cli-ref-restore.md) command to restore packages listed in a project or solution file, or in `packages.config`.</span></span> 

- <span data-ttu-id="30087-134">**MSBuild**: Proje dosyasında listelenen paketleri PackageReference ile geri yüklemek için [MSBuild-t:restore](../reference/msbuild-targets.md#restore-target) komutunu kullanın.</span><span class="sxs-lookup"><span data-stu-id="30087-134">**MSBuild**: Use the [msbuild -t:restore](../reference/msbuild-targets.md#restore-target) command to restore packages listed in the project file with PackageReference.</span></span> <span data-ttu-id="30087-135">Bu komut, Visual Studio 2017 ve üzeri sürümlerde bulunan NuGet 4. x + ve MSBuild 15.1 + ' da kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="30087-135">This command is available only in NuGet 4.x+ and MSBuild 15.1+, which are included with Visual Studio 2017 and higher versions.</span></span> <span data-ttu-id="30087-136">Her ikisi de `nuget restore` ilgili projeler için bu komutu kullanın.`dotnet restore`</span><span class="sxs-lookup"><span data-stu-id="30087-136">Both `nuget restore` and `dotnet restore` use this command for applicable projects.</span></span>

- <span data-ttu-id="30087-137">**Azure Pipelines**: Azure Pipelines ' de bir derleme tanımı oluşturduğunuzda, herhangi bir yapı görevinin önüne, tanım içine NuGet [geri yükleme](/azure/devops/pipelines/tasks/package/nuget#restore-nuget-packages) veya .NET Core [geri yükleme](/azure/devops/pipelines/tasks/build/dotnet-core-cli?view=azure-devops) görevini ekleyin.</span><span class="sxs-lookup"><span data-stu-id="30087-137">**Azure Pipelines**: When you create a build definition in Azure Pipelines, include the NuGet [restore](/azure/devops/pipelines/tasks/package/nuget#restore-nuget-packages) or .NET Core [restore](/azure/devops/pipelines/tasks/build/dotnet-core-cli?view=azure-devops) task in the definition before any build tasks.</span></span> <span data-ttu-id="30087-138">Bazı yapı şablonlarında geri yükleme görevi varsayılan olarak yer alır.</span><span class="sxs-lookup"><span data-stu-id="30087-138">Some build templates include the restore task by default.</span></span>

- <span data-ttu-id="30087-139">**Azure DevOps Server**: TFS 2013 veya sonraki bir ekip derleme şablonu kullanıyorsanız, derleme sırasında Azure DevOps Server ve TFS 2013 ve üzeri paketleri otomatik olarak geri yükler.</span><span class="sxs-lookup"><span data-stu-id="30087-139">**Azure DevOps Server**: Azure DevOps Server and TFS 2013 and later automatically restore packages during build, if you're using a TFS 2013 or later Team Build template.</span></span> <span data-ttu-id="30087-140">Önceki TFS sürümleri için bir komut satırı geri yükleme seçeneği çalıştırmak için bir derleme adımı ekleyebilir veya isteğe bağlı olarak yapı şablonunu daha sonraki bir sürüme geçirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="30087-140">For earlier TFS versions, you can include a build step to run a command-line restore option, or optionally migrate the build template to a later version.</span></span> <span data-ttu-id="30087-141">Daha fazla bilgi için bkz. [Team Foundation Build ile paket geri yüklemeyi ayarlama](../consume-packages/team-foundation-build.md).</span><span class="sxs-lookup"><span data-stu-id="30087-141">For more information, see [Set up package restore with Team Foundation Build](../consume-packages/team-foundation-build.md).</span></span>

## <a name="enable-and-disable-package-restore-visual-studio"></a><span data-ttu-id="30087-142">Paket geri yüklemeyi etkinleştirme ve devre dışı bırakma (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="30087-142">Enable and disable package restore (Visual Studio)</span></span>

<span data-ttu-id="30087-143">Visual Studio 'da paket geri yüklemeyi birincil olarak **Araçlar** > **Seçenekler** > **NuGet Paket Yöneticisi**aracılığıyla denetlersiniz:</span><span class="sxs-lookup"><span data-stu-id="30087-143">In Visual Studio, you control Package Restore primarily through **Tools** > **Options** > **NuGet Package Manager**:</span></span>

![NuGet Paket Yöneticisi seçenekleri aracılığıyla paket geri yüklemeyi denetleme](media/Restore-01-AutoRestoreOptions.png)

- <span data-ttu-id="30087-145">**NuGet 'in eksik paketleri indirmesine izin ver** `packageRestore/enabled` ayarı, `NuGet.Config` dosyanın Windows veya `~/.nuget/NuGet/` Mac/Linux üzerinde bulunan `%AppData%\NuGet\` [packageresgerme bölümündeki](../reference/nuget-config-file.md#packagerestore-section) ayarı değiştirerek tüm paket geri yükleme biçimlerini denetler.</span><span class="sxs-lookup"><span data-stu-id="30087-145">**Allow NuGet to download missing packages** controls all forms of package restore by changing the `packageRestore/enabled` setting in the [packageRestore section](../reference/nuget-config-file.md#packagerestore-section) of the `NuGet.Config` file, at `%AppData%\NuGet\` on Windows, or `~/.nuget/NuGet/` on Mac/Linux.</span></span> <span data-ttu-id="30087-146">Bu ayar ayrıca çözümün Visual Studio 'daki bağlam menüsünde **NuGet paketlerini geri yükle** komutunu da sunar.</span><span class="sxs-lookup"><span data-stu-id="30087-146">This setting also enables the **Restore NuGet Packages** command on the solution's context menu in Visual Studio, .</span></span>

    ```xml
    <configuration>
        <packageRestore>
            <!-- The 'enabled' key is True when the "Allow NuGet to download missing packages" checkbox is set.
                 Clearing the box sets this to False, disabling command-line, automatic, and MSBuild-integrated restore. -->
            <add key="enabled" value="True" />
        </packageRestore>
    </configuration>
    ```
    
  > [!Note]
  > <span data-ttu-id="30087-147">`packageRestore/enabled` Ayarı Global olarak geçersiz kılmak için, Visual Studio 'yu başlatmadan veya bir derlemeyi başlatmadan önce **enablenugetpackageresant** ortam değişkenini true veya false değerine ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="30087-147">To globally override the `packageRestore/enabled` setting, set the environment variable **EnableNuGetPackageRestore** with a value of True or False before launching Visual Studio or starting a build.</span></span>

- <span data-ttu-id="30087-148">**Visual Studio 'da derleme sırasında eksik paketleri otomatik olarak denetle** , `packageRestore/automatic` `NuGet.Config` dosyanın [packageresgerme bölümündeki](../reference/nuget-config-file.md#packagerestore-section) ayarı değiştirerek otomatik geri yüklemeyi denetler.</span><span class="sxs-lookup"><span data-stu-id="30087-148">**Automatically check for missing packages during build in Visual Studio** controls automatic restore by changing the `packageRestore/automatic` setting in the [packageRestore section](../reference/nuget-config-file.md#packagerestore-section) of the `NuGet.Config` file.</span></span> <span data-ttu-id="30087-149">Bu seçenek true olarak ayarlandığında, Visual Studio 'dan bir derlemeyi çalıştırmak eksik paketleri otomatik olarak geri yükler.</span><span class="sxs-lookup"><span data-stu-id="30087-149">When this option is set to True, running a build from Visual Studio automatically restores any missing packages.</span></span> <span data-ttu-id="30087-150">Bu ayar MSBuild komut satırından çalıştırılan derlemeleri etkilemez.</span><span class="sxs-lookup"><span data-stu-id="30087-150">This setting doesn't affect builds run from the MSBuild command line.</span></span>

    ```xml
    ...
    <configuration>
        <packageRestore>
            <!-- The 'automatic' key is set to True when the "Automatically check for missing packages during
                 build in Visual Studio" checkbox is set. Clearing the box sets this to False and disables
                 automatic restore. -->
            <add key="automatic" value="True" />
        </packageRestore>
    </configuration>
    ```

<span data-ttu-id="30087-151">Bir bilgisayardaki tüm kullanıcılar için paket geri yüklemeyi etkinleştirmek veya devre dışı bırakmak için, bir geliştirici veya şirket, yapılandırma ayarlarını genel `nuget.config` dosyasına ekleyebilir.</span><span class="sxs-lookup"><span data-stu-id="30087-151">To enable or disable Package Restore for all users on a computer, a developer or company can add the configuration settings to the global `nuget.config` file.</span></span> <span data-ttu-id="30087-152">Genel `nuget.config` olarak `\{IDE}\{Version}\{SKU}\` Windows 'ta, bazı durumlarda belirli bir Visual Studio `~/.local/share`klasörü veya Mac/Linux 'ta. `%ProgramData%\NuGet\Config`</span><span class="sxs-lookup"><span data-stu-id="30087-152">The global `nuget.config` is in Windows at `%ProgramData%\NuGet\Config`, sometimes under a specific `\{IDE}\{Version}\{SKU}\` Visual Studio folder, or in Mac/Linux at `~/.local/share`.</span></span> <span data-ttu-id="30087-153">Bireysel kullanıcılar daha sonra bir proje düzeyinde gerektiğinde geri yüklemeyi seçmeli olarak etkinleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="30087-153">Individual users can then selectively enable restore as needed on a project level.</span></span> <span data-ttu-id="30087-154">NuGet 'in birden çok yapılandırma dosyasını nasıl önceliklendiren hakkında daha fazla ayrıntı için bkz. [ortak NuGet yapılandırması](../consume-packages/configuring-nuget-behavior.md#how-settings-are-applied).</span><span class="sxs-lookup"><span data-stu-id="30087-154">For more details on how NuGet prioritizes multiple config files, see [Common NuGet configurations](../consume-packages/configuring-nuget-behavior.md#how-settings-are-applied).</span></span>

> [!Important]
> <span data-ttu-id="30087-155">`packageRestore` Ayarları doğrudan ' de `nuget.config`düzenlerseniz, Visual Studio 'yu yeniden başlatarak **Seçenekler** iletişim kutusunda geçerli değerler gösterilir.</span><span class="sxs-lookup"><span data-stu-id="30087-155">If you edit the `packageRestore` settings directly in `nuget.config`, restart Visual Studio, so that the **Options** dialog box shows the current values.</span></span>

## <a name="constrain-package-versions-with-restore"></a><span data-ttu-id="30087-156">Paket sürümlerini geri yükleme ile sınırlama</span><span class="sxs-lookup"><span data-stu-id="30087-156">Constrain package versions with restore</span></span>

<span data-ttu-id="30087-157">NuGet, paketleri herhangi bir yöntemle geri yüklediğinde, `packages.config` veya proje dosyasında belirttiğiniz kısıtlamalara sahiptir:</span><span class="sxs-lookup"><span data-stu-id="30087-157">When NuGet restores packages through any method, it honors any constraints you specified in `packages.config` or the project file:</span></span>

- <span data-ttu-id="30087-158">İçinde `packages.config`, bağımlılık `allowedVersion` özelliğinde bir sürüm aralığı belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="30087-158">In `packages.config`, you can specify a version range in the `allowedVersion` property of the dependency.</span></span> <span data-ttu-id="30087-159">Daha fazla bilgi için bkz. [yükseltme sürümlerini kısıtlama](../consume-packages/reinstalling-and-updating-packages.md#constraining-upgrade-versions) .</span><span class="sxs-lookup"><span data-stu-id="30087-159">See [Constrain upgrade versions](../consume-packages/reinstalling-and-updating-packages.md#constraining-upgrade-versions) for more information.</span></span> <span data-ttu-id="30087-160">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="30087-160">For example:</span></span>

    ```xml
    <package id="Newtonsoft.json" version="6.0.4" allowedVersions="[6,7)" />
    ```

- <span data-ttu-id="30087-161">Bir proje dosyasında, bir bağımlılığın doğrudan aralığını belirtmek için PackageReference kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="30087-161">In a project file, you can use PackageReference to specify a dependency's range directly.</span></span> <span data-ttu-id="30087-162">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="30087-162">For example:</span></span>

    ```xml
    <PackageReference Include="Newtonsoft.json" Version="[6, 7)" />
    ```

<span data-ttu-id="30087-163">Her durumda, [paket sürümü oluşturma](../reference/package-versioning.md)bölümünde açıklanan gösterimi kullanın.</span><span class="sxs-lookup"><span data-stu-id="30087-163">In all cases, use the notation described in [Package versioning](../reference/package-versioning.md).</span></span>

## <a name="force-restore-from-package-sources"></a><span data-ttu-id="30087-164">Paket kaynaklarından geri yüklemeyi zorla</span><span class="sxs-lookup"><span data-stu-id="30087-164">Force restore from package sources</span></span>

<span data-ttu-id="30087-165">NuGet geri yükleme işlemleri, varsayılan olarak genel paketler ve [önbellek klasörlerini yönetme](managing-the-global-packages-and-cache-folders.md)bölümünde açıklanan *genel paketler* ve *http önbellek* klasörlerinden paketleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="30087-165">By default, NuGet restore operations use packages from the *global-packages* and *http-cache* folders, which are described in [Manage the global packages and cache folders](managing-the-global-packages-and-cache-folders.md).</span></span>

<span data-ttu-id="30087-166">*Küresel paketler* klasörünü kullanmaktan kaçınmak için aşağıdakilerden birini yapın:</span><span class="sxs-lookup"><span data-stu-id="30087-166">To avoid using the *global-packages* folder, do one of the following:</span></span>

- <span data-ttu-id="30087-167">`nuget locals global-packages -clear` Veya`dotnet nuget locals global-packages --clear`kullanarak klasörü temizleyin.</span><span class="sxs-lookup"><span data-stu-id="30087-167">Clear the folder using `nuget locals global-packages -clear` or `dotnet nuget locals global-packages --clear`.</span></span>
- <span data-ttu-id="30087-168">Aşağıdaki yöntemlerden birini kullanarak, geri yükleme işleminden önce *genel paketler* klasörünün konumunu geçici olarak değiştirin:</span><span class="sxs-lookup"><span data-stu-id="30087-168">Temporarily change the location of the *global-packages* folder before the restore operation, using one of the following methods:</span></span>
  - <span data-ttu-id="30087-169">NUGET_PACKAGES ortam değişkenini farklı bir klasöre ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="30087-169">Set the NUGET_PACKAGES environment variable to a different folder.</span></span>
  - <span data-ttu-id="30087-170">Farklı bir `NuGet.Config` klasöre (packagereference kullanılıyorsa `packages.config`) veya `repositoryPath` (kullanılıyorsa) ayarlayan `globalPackagesFolder` bir dosya oluşturun.</span><span class="sxs-lookup"><span data-stu-id="30087-170">Create a `NuGet.Config` file that sets `globalPackagesFolder` (if using PackageReference) or `repositoryPath` (if using `packages.config`) to a different folder.</span></span> <span data-ttu-id="30087-171">Daha fazla bilgi için bkz. [yapılandırma ayarları](../reference/nuget-config-file.md#config-section).</span><span class="sxs-lookup"><span data-stu-id="30087-171">For more information, see [configuration settings](../reference/nuget-config-file.md#config-section).</span></span>
  - <span data-ttu-id="30087-172">Yalnızca MSBuild: `RestorePackagesPath` Özelliği ile farklı bir klasör belirtin.</span><span class="sxs-lookup"><span data-stu-id="30087-172">MSBuild only: Specify a different folder with the `RestorePackagesPath` property.</span></span>

<span data-ttu-id="30087-173">HTTP kaynakları için önbelleği kullanmaktan kaçınmak için aşağıdakilerden birini yapın:</span><span class="sxs-lookup"><span data-stu-id="30087-173">To avoid using the cache for HTTP sources, do one of the following:</span></span>

- <span data-ttu-id="30087-174">`-NoCache` Seçeneğini`nuget restore`veya ile`--no-cache`seçeneğini kullanın .`dotnet restore`</span><span class="sxs-lookup"><span data-stu-id="30087-174">Use the `-NoCache` option with `nuget restore`, or the `--no-cache` option with `dotnet restore`.</span></span> <span data-ttu-id="30087-175">Bu seçenekler, Visual Studio Paket Yöneticisi veya konsolu aracılığıyla geri yükleme işlemlerini etkilemez.</span><span class="sxs-lookup"><span data-stu-id="30087-175">These options don't affect restore operations through the Visual Studio Package Manager or console.</span></span>
- <span data-ttu-id="30087-176">`nuget locals http-cache -clear` Veya`dotnet nuget locals http-cache --clear`kullanarak önbelleği temizleyin.</span><span class="sxs-lookup"><span data-stu-id="30087-176">Clear the cache using `nuget locals http-cache -clear` or `dotnet nuget locals http-cache --clear`.</span></span>
- <span data-ttu-id="30087-177">NUGET_HTTP_CACHE_PATH ortam değişkenini geçici olarak farklı bir klasöre ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="30087-177">Temporarily set the NUGET_HTTP_CACHE_PATH environment variable to a different folder.</span></span>

## <a name="migrate-to-automatic-package-restore-visual-studio"></a><span data-ttu-id="30087-178">Otomatik paket geri yüklemeye geçiş (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="30087-178">Migrate to automatic package restore (Visual Studio)</span></span>

<span data-ttu-id="30087-179">NuGet 2,6 ve önceki sürümlerde, MSBuild ile tümleşik bir paket geri yükleme daha önce destekleniyordu ancak artık doğru değildir.</span><span class="sxs-lookup"><span data-stu-id="30087-179">For NuGet 2.6 and earlier, an MSBuild-integrated package restore was previously supported but that is no longer true.</span></span> <span data-ttu-id="30087-180">(Visual Studio 'da bir çözüme sağ tıklayıp **NuGet paketini geri yüklemeyi etkinleştir**' i seçerek, bu genellikle etkinleştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="30087-180">(It was typically enabled by right-clicking a solution in Visual Studio and selecting **Enable NuGet Package Restore**).</span></span> <span data-ttu-id="30087-181">Projeniz kullanım dışı olan MSBuild ile tümleşik paket geri yüklemeyi kullanıyorsa, lütfen otomatik paket geri yüklemeye geçirin.</span><span class="sxs-lookup"><span data-stu-id="30087-181">If your project uses the deprecated MSBuild-integrated package restore, please migrate to automatic package restore.</span></span>

<span data-ttu-id="30087-182">MSBuild ile tümleşik paket geri yükleme kullanan projeler genellikle üç dosya içeren bir *. NuGet* klasörü içerir: *NuGet. config*, *NuGet. exe*ve *NuGet. targets*.</span><span class="sxs-lookup"><span data-stu-id="30087-182">Projects that use MSBuild-Integrated package restore typically contain a *.nuget* folder with three files: *NuGet.config*, *nuget.exe*, and *NuGet.targets*.</span></span> <span data-ttu-id="30087-183">*NuGet. targets* dosyasının varlığı, NuGet 'in MSBuild-unınted yaklaşımını kullanmaya devam edip etmediğini belirler, bu nedenle geçiş sırasında bu dosyanın kaldırılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="30087-183">The presence of a *NuGet.targets* file determines whether NuGet will continue to use the MSBuild-untegrated approach, so this file must be removed during the migration.</span></span>

<span data-ttu-id="30087-184">Otomatik paket geri yüklemeye geçiş yapmak için:</span><span class="sxs-lookup"><span data-stu-id="30087-184">To migrate to automatic package restore:</span></span>

1. <span data-ttu-id="30087-185">Visual Studio’yu kapatın.</span><span class="sxs-lookup"><span data-stu-id="30087-185">Close Visual Studio.</span></span>
2. <span data-ttu-id="30087-186">*. NuGet/NuGet. exe* ve *. NuGet/NuGet. targets*öğesini silin.</span><span class="sxs-lookup"><span data-stu-id="30087-186">Delete *.nuget/nuget.exe* and *.nuget/NuGet.targets*.</span></span>
3. <span data-ttu-id="30087-187">Her proje dosyası için, `<RestorePackages>` öğesini kaldırın ve *NuGet. targets*başvurusunu kaldırın.</span><span class="sxs-lookup"><span data-stu-id="30087-187">For each project file, remove the `<RestorePackages>` element and remove any reference to *NuGet.targets*.</span></span>

<span data-ttu-id="30087-188">Otomatik paket geri yüklemeyi test etmek için:</span><span class="sxs-lookup"><span data-stu-id="30087-188">To test the automatic package restore:</span></span>

1. <span data-ttu-id="30087-189">Çözüm klasöründen *paketler* klasörünü kaldırın.</span><span class="sxs-lookup"><span data-stu-id="30087-189">Remove the *packages* folder from the solution.</span></span>
2. <span data-ttu-id="30087-190">Visual Studio 'da çözümü açın ve bir derleme başlatın.</span><span class="sxs-lookup"><span data-stu-id="30087-190">Open the solution in Visual Studio and start a build.</span></span>

   <span data-ttu-id="30087-191">Otomatik paket geri yükleme, her bağımlılık paketini, kaynak denetimine eklenmeden önce indirip yüklemelidir.</span><span class="sxs-lookup"><span data-stu-id="30087-191">Automatic package restore should download and install each dependency package, without adding them to source control.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="30087-192">Sorun giderme</span><span class="sxs-lookup"><span data-stu-id="30087-192">Troubleshooting</span></span>

<span data-ttu-id="30087-193">Bkz. [paket geri yükleme sorunlarını giderme](package-restore-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="30087-193">See [Troubleshoot package restore](package-restore-troubleshooting.md).</span></span>
