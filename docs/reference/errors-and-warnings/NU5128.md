---
title: NuGet uyarı NU5128
description: NU5128 uyarı kodu
author: zivkan
ms.date: 09/06/2019
ms.topic: reference
ms.reviewer: karann
f1_keywords:
- NU5128
ms.openlocfilehash: d1ce9fde28eff60b81f464088637572e6ad71a49
ms.sourcegitcommit: e4b0ff4460865db6dc7bc9f20e9f644d98493011
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/26/2019
ms.locfileid: "71307193"
---
# <a name="nuget-warning-nu5128"></a><span data-ttu-id="877e7-103">NuGet uyarı NU5128</span><span class="sxs-lookup"><span data-stu-id="877e7-103">NuGet Warning NU5128</span></span>

## <a name="scenario-1"></a><span data-ttu-id="877e7-104">Senaryo 1</span><span class="sxs-lookup"><span data-stu-id="877e7-104">Scenario 1</span></span>

<pre>Some target frameworks declared in the dependencies group of the nuspec and the lib/ref folder do not have exact matches in the other location. Consult the list of actions below:
- Add a dependency group for .NETStandard2.0 to the nuspec</pre>

### <a name="issue"></a><span data-ttu-id="877e7-105">Sorun</span><span class="sxs-lookup"><span data-stu-id="877e7-105">Issue</span></span>

<span data-ttu-id="877e7-106">Paketteki `lib/<tfm>/` veya`ref/<tfm>/` dizininde, uyarı iletisinde belirtilen [hedef çerçeve bilinen adı (tfd)](../target-frameworks.md) için en az bir dosya bulunur.</span><span class="sxs-lookup"><span data-stu-id="877e7-106">The `lib/<tfm>/` or `ref/<tfm>/` directory in the package contains at least one file for the [Target Framework Moniker (TFM)](../target-frameworks.md) specified in the warning message.</span></span> <span data-ttu-id="877e7-107">Ancak, bu tfd `nuspec` için dosyada bağımlılık grubu yok.</span><span class="sxs-lookup"><span data-stu-id="877e7-107">However, no dependency group exists for this TFM in the `nuspec` file.</span></span> <span data-ttu-id="877e7-108">Bu, paket bağımlılıklarına sahip olmasa bile paket tüketicilerinin tfd ile uyumlu olmadığını düşünmesine neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="877e7-108">This may cause package consumers to believe the package is not compatible with the TFM, even if the package does not have dependencies.</span></span> <span data-ttu-id="877e7-109">Pakette bildirilmemiş bağımlılıklar varsa, paketi kullanan proje çalışma zamanı hatalarıyla karşılaşacaktır.</span><span class="sxs-lookup"><span data-stu-id="877e7-109">If the package has undeclared dependencies, the project using the package will experience runtime errors.</span></span>

### <a name="solution"></a><span data-ttu-id="877e7-110">Çözüm</span><span class="sxs-lookup"><span data-stu-id="877e7-110">Solution</span></span>

* <span data-ttu-id="877e7-111">Projede NuGet 'in paket hedefini Çalıştır</span><span class="sxs-lookup"><span data-stu-id="877e7-111">Run NuGet's pack target on the project</span></span>

<span data-ttu-id="877e7-112">Mümkünse, projenin hedef çerçevelerinden bağımlılık gruplarıyla derleme TFMs 'leri otomatik olarak eşleştiğinden [NuGet MSBuild paketi hedefini](../msbuild-targets.md)kullanın.</span><span class="sxs-lookup"><span data-stu-id="877e7-112">If possible, use [NuGet's MSBuild pack target](../msbuild-targets.md), as it automatically matches assembly TFMs with dependency groups from the project's target frameworks.</span></span> <span data-ttu-id="877e7-113">Projenizin kendi NuGet bağımlılıkları için kullanması `PackageReference` gerektiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="877e7-113">Note that your project must use `PackageReference` for its own NuGet dependencies.</span></span> <span data-ttu-id="877e7-114">Projenizde Packages. config kullanılıyorsa, `nuget.exe pack` `nuspec` ve dosyalarını kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="877e7-114">If your project uses packages.config, you need to use `nuget.exe pack` and a `nuspec` file.</span></span>

* <span data-ttu-id="877e7-115">El ile `nuspec` düzenlenmiş dosya</span><span class="sxs-lookup"><span data-stu-id="877e7-115">Manually edited `nuspec` file</span></span>

<span data-ttu-id="877e7-116">Özel `nuspec` bir dosya kullanıyorsanız, bağımlılıklar bir sonraki uyumlu tfd ile aynı olsa bile `lib/` , `ref/` hangi her TFI 'nin eşleşen bir bağımlılık grubuna sahip olması gerektiğini öneririz.</span><span class="sxs-lookup"><span data-stu-id="877e7-116">If you are using a custom `nuspec` file, we recommend each TFM for which `lib/` or `ref/` assemblies exist should have a matching dependency group, even if the dependencies are the same as the next compatible TFM.</span></span> <span data-ttu-id="877e7-117">Örneğin, bir paket ve `netstandard1.0` `netstandard2.0` derlemeler içeriyorsa ve bağımlılıklar her ikisi için aynıysa, her iki tfms 'in yinelenen bağımlılık öğelerine sahip bağımlılık grupları olarak listelenmesini öneririz.</span><span class="sxs-lookup"><span data-stu-id="877e7-117">For example, if a package contains `netstandard1.0` and `netstandard2.0` assemblies, and the dependencies are the same for both, we recommend both TFMs be listed as dependency groups with duplicate dependency items.</span></span>

<span data-ttu-id="877e7-118">Derleme yollarında kullanılan tfd tanımlayıcısının, bağımlılık gruplarında kullanılan tfd tanımlayıcısı için farklı bir biçim kullanıldığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="877e7-118">Note that the TFM identifier used in the assembly paths use a different format to the TFM identifier used in dependency groups.</span></span> <span data-ttu-id="877e7-119">Uyarı iletisi, bağımlılık grubunda kullanılacak doğru adı belirtir.</span><span class="sxs-lookup"><span data-stu-id="877e7-119">The warning message specifies the correct name to use in the dependency group.</span></span> <span data-ttu-id="877e7-120">Paketinizin bu hedef çerçeve için herhangi bir bağımlılığı yoksa boş bir grup kullanın.</span><span class="sxs-lookup"><span data-stu-id="877e7-120">If your package does not have any dependencies for that target framework, use an empty group.</span></span> <span data-ttu-id="877e7-121">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="877e7-121">For example:</span></span>

```xml
<package>
  <metadata>
    ...
    <dependencies>
      <group targetFramework=".NETFramework4.7.2" />
    </dependencies>
  </metadata>
  ...
<package>
```

* <span data-ttu-id="877e7-122">`lib/` Veya`ref/` dosyalarını kaldırma</span><span class="sxs-lookup"><span data-stu-id="877e7-122">Remove the `lib/` or `ref/` files</span></span>

<span data-ttu-id="877e7-123">Paketinizin bildirilen tfd ile uyumlu olmasını istemiyorsanız, projenizi değiştirin. Bu, söz konusu TFE için pakette olmayan ya `lib/<tfm>/` da `ref/<tfm>/` dosya yok.</span><span class="sxs-lookup"><span data-stu-id="877e7-123">If you do not wish your package to be compatible with the reported TFM, modify your project such that no `lib/<tfm>/` or `ref/<tfm>/` files are in the package for that TFM.</span></span> <span data-ttu-id="877e7-124">Örneğin `.NETFramework4.7.2` , Uyarısı `nuspec`öğesine için bir bağımlılık grubu eklemeyi söyyorsa, paketinizdeki tüm `lib/net472/*` ve `ref/net472/*` dosyaları kaldırın.</span><span class="sxs-lookup"><span data-stu-id="877e7-124">For example, if the warning says to add a dependency group for `.NETFramework4.7.2` to the `nuspec`, then remove any `lib/net472/*` and `ref/net472/*` files from your package.</span></span>

## <a name="scenario-2"></a><span data-ttu-id="877e7-125">Senaryo 2</span><span class="sxs-lookup"><span data-stu-id="877e7-125">Scenario 2</span></span>

<pre>Some target frameworks declared in the dependencies group of the nuspec and the lib/ref folder do not have exact matches in the other location. Consult the list of actions below:
- Add lib or ref assemblies for the netstandard2.0 target framework</pre>

### <a name="issue"></a><span data-ttu-id="877e7-126">Sorun</span><span class="sxs-lookup"><span data-stu-id="877e7-126">Issue</span></span>

<span data-ttu-id="877e7-127">Dosya, bildirilen hedef çerçeve bilinen adı (tfd) için bir bağımlılık grubuna sahiptir, ancak ya da `lib/` veya `ref/`içinde bu TFI için hiçbir derleme yok. `nuspec`</span><span class="sxs-lookup"><span data-stu-id="877e7-127">The `nuspec` file has a dependency group for the reported Target Framework Moniker (TFM), but no assemblies exist for this TFM in either `lib/` or `ref/`.</span></span> <span data-ttu-id="877e7-128">Uyumlu bir tfd için derlemeler varsa, paket yine de yüklenmeye devam eder, ancak derleme zamanında kullanılan derlemeler için bağımlılıklar hatalı olabilir ve projenin çalışma zamanında başarısız olmasına neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="877e7-128">If there are assemblies for a compatible TFM, the package will still install, but the dependencies might be incorrect for a assemblies used at compile time and could cause the project to fail at runtime.</span></span>

### <a name="solution"></a><span data-ttu-id="877e7-129">Çözüm</span><span class="sxs-lookup"><span data-stu-id="877e7-129">Solution</span></span>

* <span data-ttu-id="877e7-130">Projede NuGet 'in paket hedefini Çalıştır</span><span class="sxs-lookup"><span data-stu-id="877e7-130">Run NuGet's pack target on the project</span></span>

<span data-ttu-id="877e7-131">Mümkünse, projenin hedef çerçevelerinden bağımlılık gruplarıyla derleme TFMs 'leri otomatik olarak eşleştiğinden [NuGet MSBuild paketi hedefini](../msbuild-targets.md)kullanın.</span><span class="sxs-lookup"><span data-stu-id="877e7-131">If possible, use [NuGet's MSBuild pack target](../msbuild-targets.md), as it automatically matches assembly TFMs with dependency groups from the project's target frameworks.</span></span> <span data-ttu-id="877e7-132">Projenizin kendi NuGet bağımlılıkları için kullanması `PackageReference` gerektiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="877e7-132">Note that your project must use `PackageReference` for its own NuGet dependencies.</span></span> <span data-ttu-id="877e7-133">Projenizde Packages. config kullanılıyorsa, `nuget.exe pack` `nuspec` ve dosyalarını kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="877e7-133">If your project uses packages.config, you need to use `nuget.exe pack` and a `nuspec` file.</span></span>

* <span data-ttu-id="877e7-134">`nuspec` Dosyayı el ile düzenleyin</span><span class="sxs-lookup"><span data-stu-id="877e7-134">Manually edit the `nuspec` file</span></span>

<span data-ttu-id="877e7-135">Bildirilen TFı 'yi projenizin derleyen ek bir hedef çerçeve olarak ekleyin ve derlemeleri pakete ekleyin.</span><span class="sxs-lookup"><span data-stu-id="877e7-135">Add the reported TFM as an additional Target Framework for which your project compiles for, and add the assemblies to the package.</span></span> <span data-ttu-id="877e7-136">Birden çok hedef için bir SDK stil projesi kullanıyorsanız, NuGet MSBuild paketi hedefleri doğru `lib/<tfm>/` klasöre derlemeleri otomatik olarak ekleyebilir ve doğru tfms ve bağımlılıklarla bağımlılık grupları oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="877e7-136">If you are using an SDK style project to multi-target multiple TFMs, NuGet's MSBuild pack targets can automatically add assemblies in the correct `lib/<tfm>/` folder and create dependency groups with the correct TFMs and dependencies.</span></span> <span data-ttu-id="877e7-137">SDK olmayan bir stil projesi kullanıyorsanız, büyük olasılıkla ek TFI için ek bir proje dosyası oluşturmanız ve `nuspec` dosyanızı değiştirerek çıktı derlemelerini pakette doğru konuma kopyalamanız gerekecektir.</span><span class="sxs-lookup"><span data-stu-id="877e7-137">If you are using a non-SDK style project, you will likely need to create an additional project file for the additional TFM, and modify your `nuspec` file to copy the output assemblies in the correct location in the package.</span></span>

* <span data-ttu-id="877e7-138">Boş `_._` bir dosya ekleyin</span><span class="sxs-lookup"><span data-stu-id="877e7-138">Add an empty `_._` file</span></span>

<span data-ttu-id="877e7-139">Paketiniz bir meta-Package gibi herhangi bir derleme içermiyorsa, uyarı iletisinde listelenen tfms `_._` `lib/<tfm>/` dizinlerine boş bir dosya eklemeyi düşünün.</span><span class="sxs-lookup"><span data-stu-id="877e7-139">If your package does not contain any assemblies, such as a meta-package, consider adding an empty `_._` file to the `lib/<tfm>/` directories for the TFMs listed in the warning message.</span></span> <span data-ttu-id="877e7-140">Örneğin, uyarı `netstandard2.0` hedef Framework için derleme eklemek istiyorsanız, paketinizdeki boş `lib/netstandard2.0/_._` bir dosya oluşturun.</span><span class="sxs-lookup"><span data-stu-id="877e7-140">For example, if the warning says to add assemblies for the `netstandard2.0` target framework, create an empty `lib/netstandard2.0/_._` file in your package.</span></span>

* <span data-ttu-id="877e7-141">Bağımlılık grubunu kaldırma</span><span class="sxs-lookup"><span data-stu-id="877e7-141">Remove the dependency group</span></span>

<span data-ttu-id="877e7-142">Özel `nuspec` bir dosya kullanıyorsanız, bildirilen TFM için bağımlılık grubunu kaldırın ve yalnızca `lib/<tfm>/` veya `ref/<tfm>/` dosyaları bulunan tfms için bağımlılık gruplarını bırakın.</span><span class="sxs-lookup"><span data-stu-id="877e7-142">If you use a custom `nuspec` file, remove the dependency group for the reported TFM, leaving only dependency groups for TFMs for which `lib/<tfm>/` or `ref/<tfm>/` files exist.</span></span>

* <span data-ttu-id="877e7-143">Derlemelerle ilgili olmayan paketlerin tüm bağımlılıklarını kaldır</span><span class="sxs-lookup"><span data-stu-id="877e7-143">Remove all dependencies for packages that are not related to assemblies</span></span>

<span data-ttu-id="877e7-144">Paketiniz `lib/` veya`ref/` dosya içermiyorsa ve bir meta paketi değilse, paket tüketicisinin ihtiyacı olan herhangi bir bağımlılığı yoktur.</span><span class="sxs-lookup"><span data-stu-id="877e7-144">If your package does not contain any `lib/` or `ref/` files and is not a meta-package, it likely does not have any dependencies that the package consumer needs.</span></span> <span data-ttu-id="877e7-145">NuGet 'in MSBuild paketi hedefi ile paketliyorsanız, proje dosyanızda herhangi bir `<SuppressDependenciesWhenPacking>true</SuppressDependenciesWhenPacking>` `PropertyGroup` şekilde ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="877e7-145">If you are packing with NuGet's MSBuild Pack target, you can set `<SuppressDependenciesWhenPacking>true</SuppressDependenciesWhenPacking>` in any `PropertyGroup` in your project file.</span></span> <span data-ttu-id="877e7-146">Özel `nuspec` bir dosya kullanıyorsanız, `<dependencies>` öğesini kaldırın.</span><span class="sxs-lookup"><span data-stu-id="877e7-146">If you are using a custom `nuspec` file, remove the `<dependencies>` element.</span></span>

* <span data-ttu-id="877e7-147">Diğer senaryolar</span><span class="sxs-lookup"><span data-stu-id="877e7-147">Other scenarios</span></span>

<span data-ttu-id="877e7-148">Bu uyarı, NuGet 5.3 geliştirme sırasında eklenmiştir ve ilk olarak .NET Core SDK 3,0 Preview 9 ' da kullanıma sunulmuştur.</span><span class="sxs-lookup"><span data-stu-id="877e7-148">This warning was added during NuGet 5.3's development, and first was available in .NET Core SDK 3.0 Preview 9.</span></span> <span data-ttu-id="877e7-149">[NuGet/Home # 8583](https://github.com/nuget/home/issues/8583) , uyarının çok fazla senaryoda oluşturulduğu bir sorunu izler.</span><span class="sxs-lookup"><span data-stu-id="877e7-149">[NuGet/Home#8583](https://github.com/nuget/home/issues/8583) tracks an issue where the warning was being raised in too many scenarios.</span></span> <span data-ttu-id="877e7-150">`NoWarn` MSBuild özelliğini (proje dosyanızda herhangi birine `PropertyGroup` ekleyin `<NoWarn>$(NoWarn);NU5128</NoWarn>` ) kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="877e7-150">You can use the `NoWarn` MSBuild property (add `<NoWarn>$(NoWarn);NU5128</NoWarn>` to any `PropertyGroup` in your project file).</span></span> <span data-ttu-id="877e7-151">Etkilenen birden çok projeniz varsa, tüm projelere otomatik olarak [`Directory.Build.targets`](/visualstudio/msbuild/customize-your-build) eklemek `NoWarn` için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="877e7-151">If you have multiple projects affected, you can use [`Directory.Build.targets`](/visualstudio/msbuild/customize-your-build) to automatically add `NoWarn` to all projects.</span></span>
